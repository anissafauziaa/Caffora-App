<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <title>Caffora â€” Coffee â€¢ Dessert â€¢ Space</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- (Opsional) global project css -->
    <link href="assets/css/style.css" rel="stylesheet" />

    <style>
      /* ===== Palet ===== */
      :root {
        --gold: #ffd54f;
        --gold-200: #ffe883;
        --tan: #daa85c;
        --brown: #4b3f36; /* teks navbar & ikon keranjang */
        --footer: #876f45; /* footer */
        --bg-soft: #f6f7f9; /* abu halus sebagai dasar halaman */
      }

      /* ===== Dasar Halaman ===== */
      body {
        background: var(--bg-soft);
        font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto,
          Arial, sans-serif;
      }

      /* ---- Navbar ---- */
      .navbar {
        background: #fff !important;
      }
      .navbar .nav-link {
        color: var(--brown);
        font-weight: 500;
        transition: opacity 0.15s ease, color 0.15s ease;
        opacity: 0.9;
      }
      .navbar .nav-link:hover {
        opacity: 1;
        color: var(--tan);
      }
      .navbar .nav-link.active {
        color: var(--brown);
        font-weight: 700;
        opacity: 1;
      }
      .icon-btn {
        border: none;
        background: transparent;
        padding: 4px;
      }

      /* Cart icon â€“ coklat tua, tanpa border */
      #cartBtn .iconify {
        color: var(--brown);
      }
      #cartBtn .badge-cart {
        background: var(--brown) !important;
        color: #fff;
      }
      #cartBtn {
        border: none !important;
        border-radius: 0;
        padding: 0;
        background: transparent;
      }

      /* ===== Tombol Brand (semua tombol utama) ===== */
      .btn-brand {
        background: var(--gold);
        color: var(--brown);
        border: 0;
        border-radius: 9999px;
        font-weight: 600;
        padding: 8px 14px;
        font-size: 0.9rem;
        line-height: 1.2;
      }
      .btn-brand:hover {
        background: var(--gold-200);
        color: var(--brown);
      }
      .btn-brand:focus {
        box-shadow: 0 0 0 0.16rem rgba(255, 213, 79, 0.35);
      }
      a.btn-brand {
        text-decoration: none !important;
      }
      .brand-brown {
        color: var(--brown);
        font-weight: 700;
      }

      /* ===== Offcanvas (mobile) â€” kanan & lebih sempit ===== */
      .custom-offcanvas {
        width: 70%;
        max-width: 300px;
        border-left: 1px solid rgba(0, 0, 0, 0.06);
      }
      @media (max-width: 360px) {
        .custom-offcanvas {
          width: 74%;
          max-width: 280px;
        }
      }
      /* ==== Responsif untuk toast di mobile ==== */
      @media (max-width: 600px) {
        .toast {
          width: 100% !important; /* biar tetap full */
          left: 0 !important; /* pastikan rata kiri */
          right: 0 !important; /* dan rata kanan */
          border-radius: 0; /* opsional: biar full edge */
        }

        .toast-body,
        .toast-message {
          font-size: 0.8rem; /* perkecil teks aja */
        }
      }
      /* semua link di offcanvas: sama seperti Login/Register */
      .custom-offcanvas .nav-link {
        font-size: 1.05rem;
        padding: 0.6rem 0;
        color: var(--brown) !important;
        font-weight: 600;
        opacity: 1;
      }
      .custom-offcanvas .nav-link:hover {
        color: var(--tan) !important;
      }

      /* Login/Register di offcanvas (bukan biru) */
      .offcanvas-login {
        color: var(--brown) !important;
        font-weight: 600;
        text-decoration: none !important;
        display: inline-block;
        margin: 2px 0 12px;
      }
      .offcanvas-login:hover {
        color: var(--tan) !important;
      }

      /* ===== HERO ===== */
      .hero .container {
        padding: 56px 0;
      }
      .hero h1 {
        font-family: "Playfair Display", serif;
        font-weight: 700;
      }

      /* ===== MENU (katalog) ===== */
      #menuSection {
        background: transparent;
      }
      .search-box {
        position: relative;
        width: 100%;
      }
      .search-input {
        height: 46px;
        border-radius: 9999px;
        padding-left: 16px;
        padding-right: 44px;
        border: 1px solid #e5e7eb;
        background: #fff;
      }
      /* ikon search: transparan, tanpa bg */
      .btn-search {
        position: absolute;
        right: 6px;
        top: 50%;
        transform: translateY(-50%);
        height: 34px;
        width: 34px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 0;
        border-radius: 50%;
        background: transparent;
        color: var(--brown);
      }
      .btn-search:hover {
        opacity: 0.8;
      }

      /* tombol filter: palette sama */
      .btn-filter {
        background: var(--gold);
        color: var(--brown);
        border: 0;
        border-radius: 12px;
        font-weight: 600;
        height: 46px;
        width: 46px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .btn-filter:hover {
        background: var(--gold-200);
        color: var(--brown);
      }

      /* ===== ABOUT ===== */
      #about {
        background: transparent;
      }
      #about .about-title {
        font-family: "Playfair Display", serif;
        font-weight: 700;
        font-size: clamp(26px, 3vw, 36px);
        line-height: 1.25;
        color: #111;
        margin-bottom: 10px;
      }
      #about .about-desc {
        color: #666;
        font-size: clamp(14px, 1.5vw, 16px);
        margin-bottom: 16px;
        max-width: 54ch;
      }
      .btn-view {
        background: var(--gold);
        color: var(--brown);
        border: 0;
        border-radius: 9999px;
        font-weight: 500;
        font-family: "Poppins", sans-serif !important;
        padding: 10px 18px;
        font-size: 0.9rem;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        text-decoration: none !important;
        box-shadow: none; /* no glow */
      }
      .btn-view:hover {
        background: var(--gold-200);
        color: var(--brown);
      }
      .about-img {
        width: 70%;
        max-width: 70%;
        border-radius: 24px;
        object-fit: cover;
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.08);
      }
      .about-img-wrap {
        text-align: center;
      }
      @media (max-width: 992px) {
        .about-img {
          max-width: 75%;
        }
      }
      @media (max-width: 576px) {
        .hero .container {
          padding: 40px 0;
        }
        .about-img {
          max-width: 60%;
          border-radius: 20px;
        }
        #about .about-title {
          font-size: 24px;
        }
      }

      /* ===== FOOTER ===== */
      footer {
        width: 100vw; /* penuh seluruh viewport */
        margin-left: calc(
          -1 * (100vw - 100%) / 2
        ); /* trik untuk netralisasi scrollbar gap */

        background: var(--footer);
        color: var(--gold-200); /* semua teks satu warna */
        padding-top: 36px;
        padding-bottom: 20px;
      }
      footer h5,
      footer h6 {
        color: var(--gold-200);
        font-weight: 700;
      }
      footer a {
        color: var(--gold-200);
        text-decoration: none;
      }
      footer a:hover {
        color: var(--gold);
        text-decoration: underline;
      }
      footer .footer-icons a {
        color: var(--gold-200);
        font-size: 20px;
        margin-right: 12px;
      }
      footer .border-secondary-subtle {
        border-color: rgba(255, 255, 255, 0.18) !important;
      }

      /* Toast mini */
      .toast-mini {
        position: fixed;
        right: 16px;
        top: 76px;
        z-index: 1080;
      }
      /* ==== Responsif untuk hero section (gambar + teks) di mobile ==== */
      @media (max-width: 600px) {
        /* Hero container agar tetap landscape */
        section.hero {
          position: relative;
          width: 100%;
          aspect-ratio: 16 / 9; /* tetap landscape */
          overflow: hidden;
        }

        /* Pastikan gambar di hero menyesuaikan rasio */
        section.hero::before {
          content: "";
          position: absolute;
          inset: 0;
          background-image: url("../img/hero.jpg"); /* ganti sesuai path gambar kamu */
          background-size: cover;
          background-position: center;
          z-index: -1;
        }

        /* Teks di dalam hero */
        section.hero h1 {
          font-size: 1.3rem;
          line-height: 1.2;
        }

        section.hero p {
          font-size: 0.9rem;
          line-height: 1.3;
        }
      }
      /* ==== Responsif hero di mobile ==== */
      @media (max-width: 600px) {
        section.hero {
          position: relative;
          display: flex;
          align-items: center; /* vertikal tengah */
          justify-content: center; /* horizontal tengah */
          text-align: center; /* teks ke tengah */
          aspect-ratio: 16 / 9; /* biar tetap landscape */
          overflow: hidden;
        }

        section.hero::before {
          content: "";
          position: absolute;
          inset: 0;
          background-image: url("../img/hero.jpg"); /* ganti sesuai path */
          background-size: cover;
          background-position: center;
          z-index: -1;
        }

        section.hero .container {
          position: relative;
          z-index: 2;
          padding: 0 1rem;
        }

        section.hero h1 {
          font-size: 1.3rem;
          line-height: 1.2;
          margin-bottom: 0.5rem;
        }

        section.hero p {
          font-size: 0.9rem;
          line-height: 1.4;
          margin: 0;
        }
      }
      /* ==== Responsif untuk halaman Tentang di mobile ==== */
      @media (max-width: 600px) {
        #about h2,
        #about h3 {
          font-size: 1.2rem; /* perkecil judul */
        }

        #about p {
          font-size: 0.9rem; /* perkecil teks isi */
          line-height: 1.4;
        }

        #about .container {
          padding: 0 1rem; /* kasih ruang sisi biar nggak mepet */
        }
      }
      /* === ABOUT: full image + no padding to footer (mobile) === */
      @media (max-width: 576px) {
        /* hilangkan padding bawaan py-5 di section about */
        #about {
          padding-top: 1.25rem !important; /* boleh disesuaikan */
          padding-bottom: 0 !important; /* no padding dengan footer */
          background: transparent;
        }

        /* buang padding container & gutter row */
        #about .container {
          padding-left: 0 !important;
          padding-right: 0 !important;
        }
        #about .row {
          --bs-gutter-x: 0;
          --bs-gutter-y: 0;
        }

        /* gambar full-bleed, tanpa radius & shadow */
        #about .about-img-wrap {
          margin: 0 !important;
        }
        #about .about-img {
          width: 100% !important;
          max-width: 100% !important;
          height: auto;
          display: block;
          border-radius: 0 !important;
          box-shadow: none !important;
        }

        /* rapikan teks atasnya sedikit */
        #about .about-title {
          margin: 0 1rem 0.5rem;
        }
        #about .about-desc {
          margin: 0 1rem 0.75rem;
        }
        #about .btn-view {
          margin: 0 1rem 1rem;
        }
      }

      /* ==== Footer overlap sedikit ke gambar About (tanpa radius) ==== */
      @media (max-width: 600px) {
        /* Pastikan gambar about tetap full dan menempel */
        #about {
          padding-bottom: 0 !important;
          margin-bottom: 0 !important;
          position: relative;
          z-index: 1;
        }

        #about .about-img {
          display: block;
          width: 100vw !important;
          max-width: 100vw !important;
          margin-left: calc(50% - 50vw);
          margin-right: calc(50% - 50vw);
          border-radius: 0 !important;
          box-shadow: none !important;
          margin-bottom: 0 !important;
          margin-top: 30px;
        }

        /* Footer naik sedikit tapi rata (tanpa border-radius) */
        footer {
          position: relative;
          z-index: 2;
          margin-top: -30px; /* overlap dikit ke atas gambar, bisa ubah 20â€“40px sesuai selera */
          background: var(--footer);
          border-top-left-radius: 0 !important;
          border-top-right-radius: 0 !important;
          padding: 28px 18px 20px; /* cukup ruang biar teks footer gak nempel */
        }

        /* Tata letak dalam footer */
        footer .container {
          padding: 0 !important;
        }

        footer .row.g-4 {
          --bs-gutter-y: 0.75rem;
          --bs-gutter-x: 0;
        }

        footer h5,
        footer h6 {
          font-size: 1rem;
          margin-bottom: 6px;
        }

        footer p,
        footer a,
        footer li {
          font-size: 0.85rem;
          line-height: 1.4;
          margin-bottom: 4px;
        }

        footer .footer-icons {
          margin-top: 8px;
        }

        footer .footer-icons a {
          font-size: 1.1rem;
          margin-right: 10px;
        }

        footer .footer-bottom {
          font-size: 0.8rem;
          margin-top: 12px;
          color: #d4c48a;
        }
      }
      .offcanvas-header .bi-list {
        font-size: 30px !important;
        cursor: pointer;
        padding: 4px;
      }
      /* ===== Hilangkan efek hover/gerak pada ikon hamburger (mobile) ===== */
      @media (max-width: 991.98px) {
        /* pastikan semua tombol ikon di mobile tidak punya efek hover */
        .icon-btn,
        .icon-btn i.bi-list {
          transition: none !important;
          transform: none !important;
          color: var(--brown) !important;
        }

        .icon-btn:hover,
        .icon-btn:active,
        .icon-btn:focus,
        .icon-btn:hover i.bi-list,
        .icon-btn:active i.bi-list,
        .icon-btn:focus i.bi-list {
          transform: none !important;
          color: var(--brown) !important;
          opacity: 1 !important;
          box-shadow: none !important;
          outline: none !important;
        }

        /* khusus untuk ikon hamburger di header offcanvas */
        .offcanvas-header .bi-list:hover,
        .offcanvas-header .bi-list:active,
        .offcanvas-header .bi-list:focus {
          transform: none !important;
          color: var(--brown) !important;
          opacity: 1 !important;
        }
      }
      /* === Paksa ikon keranjang selalu warna coklat === */
      #cartBtn,
      #cartBtn:link,
      #cartBtn:visited,
      #cartBtn:hover,
      #cartBtn:active,
      #cartBtn .iconify {
        color: var(--brown) !important;
        text-decoration: none !important; /* hilangkan underline */
      }

      /* Pastikan background / efek klik tidak ubah warna */
      #cartBtn:focus,
      #cartBtn:active {
        background: none !important;
        outline: none !important;
        box-shadow: none !important;
      }
    </style>
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar sticky-top shadow-sm">
      <div class="container d-flex align-items-center justify-content-between">
        <a class="navbar-brand d-flex align-items-center gap-2" href="#hero">
          <i class="bi bi-cup-hot-fill text-warning"></i>
          <span class="brand-brown">Caffora</span>
        </a>

        <!-- tidak ada 'active' default -->
        <ul class="navbar-nav d-none d-lg-flex flex-row gap-3" id="mainNav">
          <li class="nav-item"><a class="nav-link" href="#hero">Home</a></li>
          <li class="nav-item">
            <a class="nav-link" href="#menuSection">Product</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">Tentang Kami</a>
          </li>
        </ul>

        <div class="right-actions d-flex align-items-center gap-3">
          <!-- Cart -->
          <a
            class="icon-btn position-relative me-lg-1"
            id="cartBtn"
            aria-label="Buka keranjang"
            href="/caffora-app1/public/customer/cart.php"
          >
            <span
              class="iconify"
              data-icon="mdi:cart-outline"
              data-width="24"
              data-height="24"
            ></span>
            <span
              class="badge-cart badge rounded-pill bg-danger"
              id="cartBadge"
              style="display: none"
              >0</span
            >
          </a>
          <!-- Login/Register -->
          <a
            id="authLinkDesktop"
            href="login.html"
            class="btn-brand d-none d-lg-inline-flex"
            >Login / Register</a
          >
          <!-- Hamburger -->
          <button
            class="icon-btn d-lg-none"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#mobileNav"
            aria-controls="mobileNav"
            aria-label="Buka menu"
          >
            <i class="bi bi-list" style="font-size: 30px"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- OFFCANVAS NAV (kanan, ramping) -->
    <div
      class="offcanvas offcanvas-end custom-offcanvas"
      tabindex="-1"
      id="mobileNav"
      data-bs-scroll="true"
      data-bs-backdrop="true"
      aria-labelledby="mobileNavLabel"
    >
      <div
        class="offcanvas-header border-bottom d-flex justify-content-between align-items-center"
      >
        <h5 class="offcanvas-title fw-semibold m-0" id="mobileNavLabel">
          <i class="bi bi-list" style="font-size: 1.4rem"></i>
        </h5>
      </div>

      <div class="offcanvas-body d-flex flex-column gap-2">
        <!-- Login/Register paling atas -->
        <a href="login.html" class="offcanvas-login">Login / Register</a>

        <ul class="nav flex-column mt-1" id="mobileNavList">
          <li class="nav-item">
            <a class="nav-link js-offlink" href="#hero" data-target="#hero"
              >Home</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link js-offlink"
              href="#menuSection"
              data-target="#menuSection"
              >Product</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link js-offlink" href="#about" data-target="#about"
              >Tentang Kami</a
            >
          </li>
        </ul>
      </div>
    </div>

    <!-- CART MODAL -->
    <div id="cartPopup" class="modal fade" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Keranjang</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body" id="cartPopupBody">
            <p>Keranjang Anda kosong.</p>
          </div>
          <div class="modal-footer">
            <a href="cart.html" class="btn-brand">Lihat Keranjang</a>
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Tutup
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero" id="hero">
      <div class="container">
        <h1>Selamat Datang di Caffora</h1>
        <p>
          Ngopi santai, kerja produktif, dan dessert favoritâ€”semua dalam satu
          ruang.
        </p>
      </div>
    </section>

    <!-- MENU (katalog) -->
    <main id="menuSection" class="container py-5">
      <h2 class="mb-3 text-center">Menu Kami</h2>
      <p class="text-center text-muted mb-4">
        Cari menu favoritmu lalu tambahkan ke keranjang.
      </p>

      <!-- Search + Filter -->
      <div class="row gy-3 gx-2 mb-3 justify-content-center">
        <div class="col-12 col-md-7 d-flex align-items-center">
          <div class="search-box flex-grow-1">
            <input
              id="q"
              class="form-control search-input"
              placeholder="Search..."
            />
            <button id="btnCari" class="btn-search" aria-label="Cari">
              <i class="bi bi-search"></i>
            </button>
          </div>
          <div class="dropdown ms-2">
            <button
              class="btn-filter"
              id="filterBtn"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              aria-label="Filter"
            >
              <span
                class="iconify"
                data-icon="mdi:filter-variant"
                data-width="22"
                data-height="22"
              ></span>
            </button>
            <ul
              class="dropdown-menu dropdown-menu-end shadow"
              aria-labelledby="filterBtn"
              id="filterMenu"
            >
              <li>
                <a class="dropdown-item" href="#" data-filter="cheap"
                  >Harga: Termurah â†’ Termahal</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="#" data-filter="expensive"
                  >Harga: Termahal â†’ Termurah</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="#" data-filter="pastry"
                  >Pastry</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="#" data-filter="drink">Drink</a>
              </li>
              <li>
                <a class="dropdown-item" href="#" data-filter="food">Food</a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li>
                <a class="dropdown-item" href="#" data-filter="all"
                  >Tampilkan Semua</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Grid Menu -->
      <div id="list" class="row g-4"></div>
    </main>

    <!-- ABOUT -->
    <section id="about" class="py-5">
      <div class="container">
        <div class="row g-4 align-items-center">
          <div class="col-lg-6">
            <h2 class="about-title">
              Caffora tempat Nyaman<br />untuk Setiap Momen
            </h2>
            <p class="about-desc">
              Nikmati pengalaman ngopi di tempat yang tenang dan nyaman. Ruang
              yang minimalis dengan sentuhan hangat ini siap menemani kamu untuk
              bekerja, bersantai, atau sekadar melepas penat bersama orang
              terdekat.
            </p>
            <a href="#menuSection" class="btn-view">View more</a>
          </div>
          <div class="col-lg-6 about-img-wrap">
            <img
              src="assets/img/cafforaf.jpg"
              alt="Ruang Caffora yang nyaman"
              class="about-img"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer>
      <div class="container">
        <div class="row g-4 align-items-start">
          <div class="col-md-4 mb-4 mb-md-0">
            <h5>Caffora</h5>
            <p>
              Coffee <br />
              Dessert <br />
              Space
            </p>
            <div class="footer-icons">
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-facebook"></i></a>
              <a href="#"><i class="bi bi-whatsapp"></i></a>
              <a href="#"><i class="bi bi-tiktok"></i></a>
            </div>
          </div>
          <div class="col-md-4 mb-4 mb-md-0">
            <h6>Menu</h6>
            <ul class="list-unstyled m-0">
              <li><a href="#menuSection">Semua Menu</a></li>
              <li><a href="#about">Tentang Kami</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <h6>Kontak</h6>
            <p>Jl. Kopi No. 123, Purwokerto</p>
            <p>0822-1234-5678</p>
            <p>
              <a href="mailto:Cafforaproject@gmail.com"
                >Cafforaproject@gmail.com</a
              >
            </p>
          </div>
        </div>
        <hr class="border-secondary-subtle my-4" />
        <div
          class="d-flex flex-wrap justify-content-between align-items-center small"
        >
          <div>Â© 2025 Caffora â€” All rights reserved</div>
          <div class="d-flex gap-3">
            <a href="#">Terms</a><a href="#">Privacy</a><a href="#">Policy</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Toast login dulu -->
    <div
      class="toast align-items-center text-bg-dark border-0 toast-mini"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
      id="loginToast"
    >
      <div class="d-flex">
        <div class="toast-body">
          Silakan login terlebih dahulu untuk menambahkan ke keranjang.
        </div>
        <button
          type="button"
          class="btn-close btn-close-white me-2 m-auto"
          data-bs-dismiss="toast"
          aria-label="Close"
        ></button>
      </div>
    </div>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>

    <script>
      // Jalankan langsung sebelum app.js di-load
      console.log("ðŸ§¹ Mengosongkan keranjang di index.html...");
      localStorage.removeItem("caffora_cart"); // kunci yang benar
      localStorage.removeItem("cartItems");
      localStorage.removeItem("cartCount");
      localStorage.removeItem("cartTotal");

      // Reset tampilan badge keranjang
      document.addEventListener("DOMContentLoaded", () => {
        const cartBadge = document.getElementById("cartBadge");
        if (cartBadge) {
          cartBadge.style.display = "none";
          cartBadge.textContent = "0";
        }
      });
    </script>
    <script src="assets/js/app.js"></script>

    <!-- Nav active-on-click (desktop & mobile) + offcanvas smooth scroll -->
    <script>
      (function () {
        // Desktop navbar: active HANYA saat DIKLIK
        const nav = document.getElementById("mainNav");
        if (nav) {
          nav.querySelectorAll(".nav-link").forEach((a) => {
            a.addEventListener("click", function () {
              nav
                .querySelectorAll(".nav-link")
                .forEach((x) => x.classList.remove("active"));
              this.classList.add("active");
            });
          });
        }

        // Offcanvas smooth scroll + sinkron active saat klik
        const offcanvasEl = document.getElementById("mobileNav");
        if (!offcanvasEl) return;
        const bsOffcanvas =
          bootstrap.Offcanvas.getOrCreateInstance(offcanvasEl);
        let targetToScroll = null;

        offcanvasEl.querySelectorAll(".js-offlink").forEach((a) => {
          a.addEventListener("click", function (e) {
            e.preventDefault();
            targetToScroll =
              this.getAttribute("data-target") || this.getAttribute("href");

            if (nav) {
              nav
                .querySelectorAll(".nav-link")
                .forEach((x) => x.classList.remove("active"));
              const match = nav.querySelector(
                nav - link[(href = "${targetToScroll}")]
              );
              if (match) match.classList.add("active");
            }
            bsOffcanvas.hide();
          });
        });

        offcanvasEl.addEventListener("hidden.bs.offcanvas", function () {
          if (targetToScroll) {
            const el = document.querySelector(targetToScroll);
            if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
            targetToScroll = null;
          }
        });
      })();
    </script>

    <!-- RESET LOCAL STORAGE KERANJANG -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Hapus semua data keranjang di localStorage
        localStorage.removeItem("cartItems");
        localStorage.removeItem("cartCount");
        // Jika ingin total bersih, gunakan:
        // localStorage.clear();

        // Reset tampilan badge keranjang
        const cartBadge = document.getElementById("cartBadge");
        if (cartBadge) {
          cartBadge.style.display = "none";
          cartBadge.textContent = "0";
        }

        console.log("Keranjang dikosongkan setiap kali halaman index dibuka.");
      });
    </script>
    <!-- Gate Add-to-Cart (login dulu) -->
    <script>
      (function () {
        // Jika file ini .php, ganti dengan:
        // const IS_LOGGED_IN = <?= json_encode(isset($_SESSION['user_id'])); ?>;
        const IS_LOGGED_IN = false;

        const SELECTORS = [
          "[data-add-to-cart]",
          '[data-action="add"]',
          ".btn-add-to-cart",
          ".btn-add",
          "button.add-to-cart",
        ];
        const toastEl = document.getElementById("loginToast");
        const toast = bootstrap.Toast.getOrCreateInstance(toastEl, {
          delay: 2200,
        });
        function asAddBtn(el) {
          return SELECTORS.sSome((s) => el.closest(s));
        }
        document.addEventListener(
          "click",
          function (e) {
            const btn = asAddBtn(e.target);
            if (!btn) return;
            if (!IS_LOGGED_IN) {
              e.preventDefault();
              e.stopPropagation();
              toast.show();
              return false;
            }
          },
          true
        );
      })();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const offcanvasEl = document.getElementById("mobileNav");
        const bsOffcanvas = new bootstrap.Offcanvas(offcanvasEl);

        // Ambil ikon hamburger di dalam offcanvas
        const toggleBtnInside = offcanvasEl.querySelector(
          ".offcanvas-header .bi-list"
        );

        // Saat ikon di header sidebar diklik â†’ tutup offcanvas
        if (toggleBtnInside) {
          toggleBtnInside.style.cursor = "pointer";
          toggleBtnInside.addEventListener("click", () => {
            bsOffcanvas.hide();
          });
        }

        // Tutup offcanvas juga saat user klik salah satu link navigasi di dalamnya
        document.querySelectorAll(".js-offlink").forEach((link) => {
          link.addEventListener("click", () => bsOffcanvas.hide());
        });
      });
    </script>
  </body>
</html>
